{"version":3,"sources":["Endpoints/AxiosConfig.ts","Endpoints/Playlists.ts","Services/PlaylistService.ts","Components/Shared/Navbar.tsx","Services/Utility.ts","Constants/Symbols.ts","Endpoints/Player.ts","Models/Authentication.ts","Components/Shared/PlayerButton.tsx","Components/Shared/TrackList/TrackDropDown.tsx","Components/Shared/TrackList/TrackTableItem.tsx","Components/Shared/TrackList/TrackTable.tsx","Components/Pages/Playlist/PlaylistHeader.tsx","Components/Pages/Playlist/PlaylistZeroState.tsx","Components/Pages/Playlist/PlaylistPage.tsx","Components/Pages/Album/AlbumPage.tsx","Components/Shared/LandingPage.tsx","Endpoints/Artists.ts","Services/ArtistService.ts","Components/Pages/Artist/ArtistPage.tsx","Components/Pages/Home/HomePage.tsx","Constants/Constants.ts","Endpoints/Authorization.ts","Services/AuthService.ts","Services/PlayerService.ts","App.tsx","reportWebVitals.js","index.tsx"],"names":["axiosInstance","axios","create","interceptors","response","use","error","console","log","Promise","reject","PlaylistEndpoints","id","get","PlaylistService","getPlaylistById","tracks","data","items","Navbar","pageURL","to","msToSentence","ms","msInDay","msInHour","labelParts","pluralize","count","days","Math","floor","push","remainder","hours","minutes","seconds","length","join","msToTimestamp","labelValues","map","value","index","TrackSymbols","basePlaybackURL","startResume","device_id","uris","put","AuthenticationContext","React","createContext","undefined","PlayerButton","props","state","playerButtonClicked","bind","player","a","this","currentlyPlaying","PlayerEndpoints","_options","updateCurrentlyPlayingCallback","Consumer","context","Button","variant","onClick","Pause","Play","Component","TrackDropDown","Dropdown","Toggle","Menu","Item","href","track","uri","TrackTableItem","artistNames","artists","artist","name","track_number","album","duration_ms","TrackTable","updateCurrentTrack","trackNumber","currentlyPlayingTrack","currentPlayingTrack","setState","Table","hover","PlaylistHeader","playlist","description","owner","playlistLength","forEach","Row","style","marginBottom","Col","xs","Image","src","images","url","width","height","border","display_name","PlaylistZeroState","PlaylistPage","playlistId","match","params","loadPlaylist","getPlaylist","then","Container","fluid","AlbumPage","LandingPage","tokenRetriever","redirect_url","disabled","baseURL","ArtistEndpoints","ArtistService","getArtistById","getArtistTopTracks","ArtistPage","artistId","loadArtist","loadTopTracks","getArtist","catch","topTracks","Fragment","genres","popularity","coverImages","sm","find","image","md","lg","coverImage","genreBadges","genre","Badge","marginRight","as","HomePage","logOut","contextType","clientId","config","redirectUri","getAuthenticationToken","post","headers","AuthService","verifier","randomString","document","cookie","split","filter","startsWith","scopeString","scopes","encodeURIComponent","sha256","hash","code_challenge","base64urlencode","randomNumbers","Uint8Array","window","crypto","getRandomValues","possibleCharacters","offset","i","abs","TextEncoder","encode","subtle","digest","values","btoa","String","fromCharCode","apply","replace","token","callback","expireTimeInMs","expires_in","refreshTime","setTimeout","grant_type","refresh_token","client_id","newToken","code","redirect_uri","code_verifier","waitForSpotify","resolve","Spotify","onSpotifyWebPlaybackSDKReady","getSpotifyPlayer","Player","playerInit","getOAuthToken","access_token","volume","App","getVerifierCookie","createCodeVerifierCookie","URLSearchParams","location","search","exchangeCodeForToken","authToken","defaults","common","refreshTokenCallback","getAuthURL","constructAuthorizationURI","landingElement","Provider","exact","path","component","connect","success","refreshTimer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9c36ea24.chunk.js","sourcesContent":["import axios from \"axios\"\nimport { AuthToken } from \"../Models/Authentication\"\n\nconst axiosInstance = axios.create({})\n\n// set authorization header so that we don't have to specify it with every request\nexport function initAxios(token: AuthToken) {\n    if (token) {\n        axiosInstance.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token.access_token\n    }\n}\n\n// default error handling for responses\naxiosInstance.interceptors.response.use((response) => {return response}, (error) => {\n    console.log(error)\n    return Promise.reject(error)\n})\n\nexport default axiosInstance\n","import { GetPlaylistResponse } from \"../Models/Responses/PlaylistResponses\"\nimport axiosInstance from \"./AxiosConfig\"\n\nconst baseURL = \"https://api.spotify.com/v1/playlists\"\n\nexport default class PlaylistEndpoints {\n    static getPlaylistById(id: string) {\n        try {\n            return axiosInstance.get<GetPlaylistResponse>(`${baseURL}/${id}`)\n        } catch (error) {\n            console.error(`Failed to get playlist with id: \"${id}\". Error: ${error}`)\n        }\n    }\n}","import PlaylistEndpoints from \"../Endpoints/Playlists\"\nimport { PlaylistObject } from \"../Models/SpotifyObjects/PlaylistObjects\"\n\nexport default class PlaylistService {\n    static async getPlaylist(id: string): Promise<PlaylistObject | undefined> {\n        const response = await PlaylistEndpoints.getPlaylistById(id)\n        if (!response) {\n            return\n        }\n\n        const tracks = response.data.tracks.items\n        return {\n            ...response.data,\n            tracks\n        }\n    }\n}","import React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nexport default function Navbar() {\n    const pageURL = \"/spotify-playlist-plus\"\n    return (\n        <div>     \n            <Link to={pageURL}>Home </Link>\n            <Link to={pageURL+\"/AlbumPage\"}>Album Page </Link>\n            <Link to={pageURL + \"/artist/4V8LLVI7PbaPR0K2TGSxFF\"}>Artist Page</Link>\n            <Link to={pageURL + \"/playlist/37i9dQZF1DZ06evO2QRN3G\"}>Playlist Page </Link>\n        </div>      \n    )\n}","/**\n * Convert a length of time in ms to a sentence\n * Ex: 1 Day, 3 Hours, 12 Minutes\n */\nexport function msToSentence(ms: number) {\n    if (ms <= 0) {\n        return undefined\n    }\n\n    const msInDay = 86400000\n    const msInHour = msInDay / 24\n    const msInMinute = msInHour / 60\n\n    const labelParts: string[] = []\n    const pluralize = (count: number) => count > 1 ? \"s\" : \"\"\n    const days = Math.floor(ms / msInDay)\n    if (days > 0) {\n        labelParts.push(`${days} Day${pluralize(days)}`)\n    }\n\n    let remainder = ms % msInDay\n    const hours = Math.floor(remainder / msInHour)\n    if (hours > 0) {\n        labelParts.push(`${hours % 24} Hour${pluralize(hours)}`)\n    }\n    \n    remainder = remainder % msInHour\n    const minutes = Math.floor(remainder / msInMinute)\n    if (minutes > 0) {\n        labelParts.push(`${minutes % 60} Minute${pluralize(minutes)}`)\n    }\n\n    remainder = remainder % msInMinute\n    const seconds = Math.floor(remainder / 1000)\n    if (labelParts.length == 0 && seconds > 0) {\n        labelParts.push(`${seconds} Second${pluralize(seconds)}`)\n    }\n\n    return labelParts.join(\", \")\n}\n\nexport function msToTimestamp(ms: number) {\n    if (ms <= 0) {\n        return undefined\n    }\n\n    const seconds = Math.floor(ms / 1000)\n    const minutes = Math.floor(seconds / 60)\n    const hours = Math.floor(minutes / 60)\n\n    const labelValues: number[] = []\n    if (hours > 0) {\n        labelValues.push(hours)\n    }\n\n    if (minutes > 0 || (hours < 1)) {\n        labelValues.push(minutes % 60)\n    }\n\n    if (seconds > 0) {\n        labelValues.push(seconds % 60)\n    }\n\n    return labelValues.map((value, index) => {\n        if (index == 0) {\n            // Short circuit for the first element because we don't want\n            // To prefix the first item in the label with a 0\n            return `${value}`\n        }\n\n        if (value < 10) {\n            return `0${value}`\n        }\n\n        return `${value}`\n    }).join(\":\")\n}","/* eslint-disable */\nexport enum TrackSymbols {\n    Play = \"\\u25B6\",\n    Pause = \"\\u23F8\",\n    Next = \"\\u23E9\",\n    Previous = \"\\u23EA\"\n}\n/* eslint-enable */\n","import axiosInstance from \"./AxiosConfig\"\nimport { StartResumeRequest } from \"../Models/Requests/PlayerRequests\"\nimport { GetPlaybackInfoResponse } from \"../Models/Responses/PlayerResponse\"\nimport { DeviceObject } from \"../Models/SpotifyObjects/SharedObjects\"\n\nconst basePlaybackURL = \"https://api.spotify.com/v1/me/player\"\n\nexport async function getPlaybackInformation(): Promise<GetPlaybackInfoResponse> {\n    const response : GetPlaybackInfoResponse = await axiosInstance.get(basePlaybackURL)\n    return response\n}\n\nexport function startResume(device_id: string, uris: string[]) {\n    const data : StartResumeRequest = {\n        uris: uris\n    }\n\n    axiosInstance.put(`${basePlaybackURL}/play?device_id=${device_id}`, data)\n}\n\nexport function pause() {\n    axiosInstance.put(`${basePlaybackURL}/pause`)\n}\n\n// used these before implementing the sdk. They shouldn't be used unless we \n// would want to allow the user to transfer playback to another device and continue listening\nexport async function getAvailableDevices() {\n    const devices : DeviceObject[] = (await axiosInstance.get(`${basePlaybackURL}/devices`)).data.devices\n    return devices\n}\n\nexport async function transferPlayback(device_id: string) {\n    await axiosInstance.put(`${basePlaybackURL}`, { device_ids: [device_id]})\n}","import React from \"react\"\nimport { Spotify }  from \"../Models/SpotifyObjects/PlayerObjects\"\n\nexport interface AuthToken {\n    access_token: string\n    token_type: string\n    expires_in: number\n    refresh_token: string\n}\n\nexport interface TokenRetriever {\n    verifier: string,\n    redirect_url: string\n}\n\nexport interface AuthenticationContextObject {\n    authToken?: AuthToken,\n    player?: Spotify.SpotifyPlayer,\n    tokenRetriever?: TokenRetriever,\n    logOut: () => void\n}\n\nexport const AuthenticationContext = React.createContext<AuthenticationContextObject | undefined>(undefined)\n","import React from \"react\"\nimport { Button } from \"react-bootstrap\"\nimport { TrackSymbols } from \"../../Constants/Symbols\"\nimport * as PlayerEndpoints from \"../../Endpoints/Player\"\nimport { AuthenticationContext } from \"../../Models/Authentication\"\nimport { Spotify } from \"../../Models/SpotifyObjects/PlayerObjects\"\n\n/* eslint-disable */\ninterface PlayerButtonProps {\n    uris: string[]\n    updateCurrentlyPlayingCallback(trackNumber: number): void\n    index: number\n    currentlyPlaying?: boolean\n}\n/* eslint-enable */\n\ninterface PlayerButtonState extends PlayerButtonProps {}\n\nexport default class PlayerButton extends React.Component<PlayerButtonProps, PlayerButtonState> {\n    constructor(props: PlayerButtonProps) {\n        super(props)\n\n        this.state = {\n            ...props,\n        }\n\n        this.playerButtonClicked = this.playerButtonClicked.bind(this)\n    }\n\n    async playerButtonClicked(player: Spotify.SpotifyPlayer) {\n        this.props.currentlyPlaying ? PlayerEndpoints.pause() : PlayerEndpoints.startResume(player._options.id, this.state.uris)\n\n        this.props.updateCurrentlyPlayingCallback(this.props.index)\n    }\n\n    render() {\n        return (\n            <AuthenticationContext.Consumer>\n                {(context) => (\n                    <Button variant=\"outline-dark\" onClick={() => this.playerButtonClicked(context?.player!)}>\n                        {this.props.currentlyPlaying ? TrackSymbols.Pause : TrackSymbols.Play}\n                    </Button>\n                )}\n            </AuthenticationContext.Consumer>\n        )\n    }\n}\n","import React from \"react\"\nimport { TrackObject } from \"../../../Models/SpotifyObjects/TrackObjects\"\nimport { ThreeDotsVertical } from \"react-bootstrap-icons\"\nimport { Dropdown } from \"react-bootstrap\"\n\ninterface TrackDropDownProps {\n    track: TrackObject\n}\n\ninterface TrackDropDownState extends TrackDropDownProps {}\n\nexport default class TrackDropDown extends React.Component<TrackDropDownProps, TrackDropDownState> {\n    constructor(props: TrackDropDownProps) {\n        super(props)\n        this.state = { ...props }\n    }\n    render() {\n        return (\n            <Dropdown>\n                <Dropdown.Toggle variant=\"Secondary\">\n                    <ThreeDotsVertical />\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                    <Dropdown.Item href={this.state.track.uri}>Open in Spotify</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n        )\n    }\n}","import React from \"react\"\nimport { TrackObject } from \"../../../Models/SpotifyObjects/TrackObjects\"\nimport { msToTimestamp } from \"../../../Services/Utility\"\nimport PlayerButton from \"../PlayerButton\"\nimport TrackDropDown from \"./TrackDropDown\"\nimport \"./TrackTable.css\"\n\n/* eslint-disable */\ninterface TrackTableItemProps {\n    track: TrackObject\n    updateCurrentlyPlayingCallback(trackNumber: number): void\n    currentlyPlaying?: boolean\n    index: number\n}\n/* eslint-enable */\n\ninterface TrackTableItemState {\n    track: TrackObject\n}\n\nexport default class TrackTableItem extends React.Component<TrackTableItemProps, TrackTableItemState> {\n    constructor(props: TrackTableItemProps) {\n        super(props)\n        this.state = { track: props.track }\n    }\n\n    render() {\n        const artistNames = this.state.track.artists.map((artist) => artist.name).join(\", \")\n        return (\n            <tr>\n                <td>\n                    <PlayerButton\n                        currentlyPlaying={this.props.currentlyPlaying}\n                        uris={[this.state.track.uri]}\n                        updateCurrentlyPlayingCallback={this.props.updateCurrentlyPlayingCallback}\n                        index={this.props.index}></PlayerButton>\n                </td>\n                <td>{this.state.track.track_number}</td>\n                <td>{this.state.track.name}</td>\n                <td>{artistNames}</td>\n                <td>{this.state.track.album?.name ?? \"No album\"}</td>\n                <td>{msToTimestamp(this.state.track.duration_ms)}</td>\n                <td><TrackDropDown track={this.state.track}/></td>\n            </tr>\n        )\n    }\n}\n","import React from \"react\"\nimport { Table } from \"react-bootstrap\"\nimport { TrackObject } from \"../../../Models/SpotifyObjects/TrackObjects\"\nimport TrackTableItem from \"./TrackTableItem\"\n\ninterface TrackTableProps {\n    tracks?: TrackObject[]\n    currentPlayingTrack?: number\n}\n\ninterface TrackTableState extends TrackTableProps {}\n\nexport default class TrackTable extends React.Component<TrackTableProps, TrackTableState> {\n    constructor(props: TrackTableProps) {\n        super(props)\n        this.state = { tracks: props.tracks, currentPlayingTrack: -1 }\n        this.updateCurrentTrack.bind(this)\n    }\n\n    updateCurrentTrack = (trackNumber: number) => {\n        const trackPaused = trackNumber == this.state.currentPlayingTrack\n        const currentlyPlayingTrack = trackPaused ? -1 : trackNumber\n\n        this.setState({ ...this.state, currentPlayingTrack: currentlyPlayingTrack })\n    }\n\n    render() {\n        if (!this.state.tracks) {\n            return <p>Loading tracks</p>\n        }\n\n        return (\n            <Table hover>\n                <thead>\n                    <tr>\n                        <th></th>\n                        <th>Title</th>\n                        <th>Artist(s)</th>\n                        <th>Album</th>\n                        <th>Duration</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.state.tracks.map((track, index) => (\n                        <TrackTableItem\n                            key={track.id}\n                            track={track}\n                            index={index}\n                            updateCurrentlyPlayingCallback={this.updateCurrentTrack}\n                            currentlyPlaying={this.state.currentPlayingTrack == index}\n                        />\n                    ))}\n                </tbody>\n            </Table>\n        )\n    }\n}\n","import React from \"react\"\nimport { Col, Image, Row } from \"react-bootstrap\"\nimport { PlaylistObject } from \"../../../Models/SpotifyObjects/PlaylistObjects\"\nimport { msToSentence } from \"../../../Services/Utility\"\n\ninterface PlaylistHeaderProps {\n    playlist?: PlaylistObject\n}\n\ninterface PlaylistHeaderState extends PlaylistHeaderProps { }\n\nexport default class PlaylistHeader extends React.Component<PlaylistHeaderProps, PlaylistHeaderState> {\n    constructor(props: PlaylistHeaderProps) {\n        super(props)\n        this.state = {\n            ...props\n        }\n    }\n\n    render() {\n        if (!this.state.playlist) {\n            return (\n                <p>Loading</p>\n            )\n        }\n\n        const { name, description, owner, tracks } = this.state.playlist\n\n        let playlistLength = 0\n        tracks.forEach(({ track }) => playlistLength += track.duration_ms)\n\n        return (\n            <Row style={{ marginBottom: 15 }}>\n                {/* Header */}\n                <Col xs=\"auto\">\n                    {/* Image size can be up to 640 by 640 */}\n                    <Image src={this.state.playlist.images[0].url} width={250} height={250} style={{ border: \"1px solid black\" }} />\n                </Col>\n                <Col>\n                    <h2>{name}</h2>\n                    <p>{description}</p>\n                    <p>Owned by: {owner.display_name}</p>\n                    <p>{tracks.length} Songs. {msToSentence(playlistLength)}</p>\n                </Col>\n            </Row>\n        )\n    }\n}","import React from \"react\"\n\nexport default class PlaylistZeroState extends React.Component {\n    render() {\n        return (\n            <h3>No songs in this playlist</h3>\n        )\n    }\n}","import React from \"react\"\nimport { Container } from \"react-bootstrap\"\nimport { match } from \"react-router-dom\"\nimport PlaylistService from \"../../../Services/PlaylistService\"\nimport { PlaylistObject } from \"../../../Models/SpotifyObjects/PlaylistObjects\"\nimport Navbar from \"../../Shared/Navbar\"\nimport TrackTable from \"../../Shared/TrackList/TrackTable\"\nimport PlaylistHeader from \"./PlaylistHeader\"\nimport PlaylistZeroState from \"./PlaylistZeroState\"\n\ninterface PlaylistPageProps {\n    match: match<{id: string}>\n}\n\ninterface PlaylistPageState {\n    playlistId: string,\n    playlist?: PlaylistObject\n}\n\nexport default class PlaylistPage extends React.Component<PlaylistPageProps, PlaylistPageState> {\n    constructor(props: PlaylistPageProps) {\n        super(props)\n        this.state = {\n            playlistId: props.match.params.id\n        }\n\n        this.loadPlaylist = this.loadPlaylist.bind(this)\n        this.loadPlaylist()\n    }\n\n    loadPlaylist() {\n        console.log(\"Loading playlist\")\n        PlaylistService.getPlaylist(this.state.playlistId).then((playlist) => {\n            if (playlist) {\n                this.setState({ ...this.state, playlist })\n            } else {\n                // Error happened, check console. In future, display error to user?\n            }\n        })\n    }\n\n    render() {\n        if (!this.state.playlist) {\n            return (<PlaylistZeroState/>)\n        }\n        \n        // Extract the TrackObjects from the PlaylistTrackObjects\n        const tracks = this.state.playlist.tracks.map(({ track }) => track)\n\n        return (\n            <Container fluid>\n                <Navbar/>\n                <PlaylistHeader playlist={this.state.playlist}/>\n                <TrackTable tracks={tracks} />\n            </Container>\n        )\n    }\n}","import React from \"react\"\n// import { Container } from \"react-bootstrap\"\n// import { AlbumObject, AlbumType } from \"../../../Models/SpotifyObjects/AlbumObjects\"\n// import { Track } from \"../../../Models/Tracks\"\n// import PlaylistHeader from \"../Playlist/PlaylistHeader\"\n// import AlbumZeroState from \"./AlbumZeroState\"\nimport Navbar from \"../../Shared/Navbar\"\nexport default class AlbumPage extends React.Component {\n    \n\n    render() {\n        // const { name, tracks } = this.state.album\n        // const mockTrack: Track = {\n        //     track_number: 1,\n        //     added_at: \"2/10/2021\",\n        //     artists: [],\n        //     duration_ms: 1000,\n        //     explicit: false,\n        //     href: \"link\",\n        //     id: Math.random().toString(),\n        //     is_playable: true,\n        //     name: \"My Song\",\n        //     popularity: 100\n        // }\n\n        // const mockAlbum: AlbumObject = {\n        //     album_type: AlbumType.Album,\n        //     artists: [],\n        //     genres: [\"genre\"],\n        //     href: \"href\",\n        //     id: Math.random().toString(),\n        //     images: [],\n        //     label: \"label\",\n        //     name: \"My Album Name\",\n        //     popularity: 100,\n        //     tracks:[],\n        //     release_date: \"2021\"\n\n        // }\n        \n\n        return (\n            <div>\n                <Navbar></Navbar>  \n                <h1>Name</h1>\n                <img src=\"https://images-na.ssl-images-amazon.com/images/I/6123EInXGSL._SL1081_.jpg\" height=\"300px\" width=\"300px\"></img>\n            </div>  \n        )\n    }\n}","import React, { ReactNode } from \"react\"\nimport { AuthenticationContext } from \"../../Models/Authentication\"\n\nexport default function LandingPage() {\n    return (\n        <div>\n            <h2>Spotify Playlist Plus</h2>\n            {logInButton()}\n        </div>\n    )\n}\n// To view Spotify login API steps head to: https://developer.spotify.com/documentation/general/guides/authorization-guide/\n// We're using the Auth code with PKCE flow\nfunction logInButton(): ReactNode {\n    return (\n        <AuthenticationContext.Consumer>\n            {(context) => {\n                let href = undefined\n                if (context && context.tokenRetriever) {\n                    href = context.tokenRetriever.redirect_url\n                }\n\n                return (\n                    <a href={href}>\n                        <button disabled={!href}>Spotify Login</button>\n                    </a>\n                )\n            }}\n        </AuthenticationContext.Consumer>\n    )\n}\n","import { ArtistObject } from \"../Models/SpotifyObjects/ArtistObjects\"\nimport { TrackObject } from \"../Models/SpotifyObjects/TrackObjects\"\nimport axiosInstance from \"./AxiosConfig\"\n\nconst baseURL = \"https://api.spotify.com/v1/artists\"\n\nexport default class ArtistEndpoints {\n    static getArtistById(id: string) {\n        try {\n            return axiosInstance.get<ArtistObject>(`${baseURL}/${id}`)\n        } catch (error) {\n            console.error(`Failed to get artist with id: \"${id}\". Error: ${error}`)\n        }\n    }\n\n    static getArtistTopTracks(id: string) {\n        try {\n            // Hardcoding US market here because this is for a school project and I don't anticipate non-us spotify users using this\n            return axiosInstance.get<{ tracks: TrackObject[] }>(`${baseURL}/${id}/top-tracks?market=US`)\n        } catch (error) {\n            console.error(`Failed to get top tracks for artist with id: \"${id}. Error: ${error}`)\n        }\n    }\n}","import ArtistEndpoints from \"../Endpoints/Artists\"\nimport { ArtistObject } from \"../Models/SpotifyObjects/ArtistObjects\"\nimport { TrackObject } from \"../Models/SpotifyObjects/TrackObjects\"\n\nexport default class ArtistService {\n    static async getArtist(id: string): Promise<ArtistObject | undefined> {\n        const response = await ArtistEndpoints.getArtistById(id)\n        if (!response) {\n            return\n        }\n\n        return response.data\n    }\n\n    static async getArtistTopTracks({ id }: ArtistObject): Promise<TrackObject[] | undefined> {\n        const response = await ArtistEndpoints.getArtistTopTracks(id)\n        if (!response) {\n            return\n        }\n\n        return response.data.tracks\n    }\n}","import React from \"react\"\nimport { Badge, Col, Dropdown, Image, Row } from \"react-bootstrap\"\nimport { Container } from \"react-bootstrap\"\nimport { ThreeDotsVertical } from \"react-bootstrap-icons\"\nimport { match } from \"react-router-dom\"\nimport { ArtistObject } from \"../../../Models/SpotifyObjects/ArtistObjects\"\nimport { TrackObject } from \"../../../Models/SpotifyObjects/TrackObjects\"\nimport ArtistService from \"../../../Services/ArtistService\"\nimport Navbar from \"../../Shared/Navbar\"\nimport TrackTable from \"../../Shared/TrackList/TrackTable\"\n\ninterface ArtistPageProps {\n    match: match<{ id: string }>\n}\n\ninterface ArtistPageState {\n    artist?: ArtistObject,\n    topTracks?: TrackObject[],\n    artistId: string\n}\n\nexport default class ArtistPage extends React.Component<ArtistPageProps, ArtistPageState> {\n    constructor(props: ArtistPageProps) {\n        super(props)\n        this.state = {\n            artistId: props.match.params.id\n        }\n\n        this.loadArtist = this.loadArtist.bind(this)\n        this.loadTopTracks = this.loadTopTracks.bind(this)\n        this.loadArtist()\n    }\n\n    loadArtist() {\n        ArtistService.getArtist(this.state.artistId).then((artist) => {\n            if (artist) {\n                this.setState({ ...this.state, artist })\n                this.loadTopTracks(artist)\n            } else {\n                // Error happened, check console. In future, display error to user?\n            }\n        }).catch(error => console.error(error))\n    }\n\n    loadTopTracks(artist: ArtistObject) {\n        ArtistService.getArtistTopTracks(artist).then((topTracks) => {\n            if (topTracks) {\n                this.setState({ ...this.state, topTracks })\n            }\n        })\n    }\n\n    render() {\n        if (!this.state.artist) {\n            return (\n                <React.Fragment>\n                    <Navbar/>\n                    <p>Loading Artist</p>\n                </React.Fragment>\n            )\n        }\n\n        const { genres, images, name, popularity } = this.state.artist\n        const coverImages = {\n            sm: images.find(image => image.height === 160),\n            md: images.find(image => image.height === 320),\n            lg: images.find(image => image.height === 640),\n        }\n\n        const coverImage = coverImages.md ?? coverImages.lg ?? coverImages.sm\n        const genreBadges = genres.map((genre) => (\n            <Badge key={genre} style={{marginRight: 5}} variant=\"secondary\">{genre}</Badge>\n        ))\n\n        return (\n            <Container fluid>\n                <Navbar />\n                {coverImage ?\n                    <Image src={coverImage.url} />\n                    : <p>Loading Image</p>\n                }\n                <Row>\n                    <Col as={\"h2\"} xs={\"auto\"}>{name}</Col>\n                    <Col>\n                        <Dropdown>\n                            <Dropdown.Toggle variant=\"Secondary\">\n                                <ThreeDotsVertical />\n                            </Dropdown.Toggle>\n\n                            <Dropdown.Menu>\n                                <Dropdown.Item href={this.state.artist.uri}>Open in Spotify</Dropdown.Item>\n                            </Dropdown.Menu>\n                        </Dropdown>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col as={\"p\"}>Genres: {genreBadges}</Col>\n                </Row>\n                <Row>\n                    <Col as={\"p\"}> Popularity: {popularity}th Percentile </Col>\n                </Row>\n                <Row>\n                    <Col as={\"h3\"}>Top Tracks</Col>\n                </Row>\n                <Row>\n                    <Col>\n                        <TrackTable tracks={this.state.topTracks} />\n                    </Col>\n                </Row>\n            </Container>\n        )\n    }\n}\n","import React from \"react\"\nimport { AuthenticationContext } from \"../../../Models/Authentication\"\nimport Navbar from \"../../Shared/Navbar\"\n\nexport default class HomePage extends React.Component {\n    static contextType = AuthenticationContext\n\n    render() {\n        return (\n            <React.Fragment>\n                <p>Home page</p>\n                <Navbar/>\n                <button onClick={this.context.logOut}>Log out</button>\n            </React.Fragment>\n        )\n    }\n}","export const authEndpoint = \"https://accounts.spotify.com/authorize\"\n\nexport const clientId = \"a7d9f2be243d45f69ad9e83e2ef03b61\"\n\nconst prod = {\n    redirectUri: \"https://jacobhearst.github.io/spotify-playlist-plus\"\n}\n\nconst dev = {\n    redirectUri: \"http://localhost:3000/spotify-playlist-plus\"\n}\n\n// export const scopes = [\n//     \"user-top-read\",\n//     \"user-read-currently-playing\",\n//     \"user-read-playback-state\",\n// ]\n\nexport const config = process.env.NODE_ENV == \"development\" ? dev : prod","import { AuthToken } from \"../Models/Authentication\"\nimport axios from \"axios\"\nimport { RefreshTokenRequest, GetTokenRequest } from \"../Models/Requests/AuthenticationRequests\"\n\nexport async function getAuthenticationToken(data: RefreshTokenRequest | GetTokenRequest): Promise<AuthToken | undefined> {\n    const response = await axios.post(\"https://accounts.spotify.com/api/token\", null, {\n        params: data,\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n    })\n\n    return response.data\n}","import { authEndpoint, clientId, config } from \"../Constants/Constants\"\nimport { getAuthenticationToken } from \"../Endpoints/Authorization\"\nimport { AuthToken } from \"../Models/Authentication\"\nimport { GetTokenRequest } from \"../Models/Requests/AuthenticationRequests\"\n\n// class that handles all authentication\nexport default class AuthService {\n    // scopes that are needed \n    static scopes : string[] = [\"user-modify-playback-state\", \"user-read-playback-state\", \"streaming\", \n        \"user-read-email\", \"user-read-private\"]\n\n    constructor() {}\n\n    // ########################## Cookie Creation / Retrival ###############################\n    static createCodeVerifierCookie(): string {\n        const verifier = this.randomString()\n        document.cookie = `code_verifier=${verifier}`\n\n        return verifier\n    }\n\n    static getVerifierCookie(): string | undefined {\n        // document.cookie is a 'string' representation of the cookies, seperated by '; '\n        const cookies = document.cookie.split(\"; \") // # yum\n    \n        // find the cookie that starts with code_verifier\n        const verifier = cookies.filter((cookie) => cookie.startsWith(\"code_verifier\"))\n    \n        // if it exists, return it\n        return verifier.length > 0 ? verifier[0].split(\"=\")[1] : undefined\n    }\n    // ####################################################################################\n\n\n    // ############## Verifier / Authorization URL Creation ##############################\n    static async constructAuthorizationURI(verifier: string): Promise<string> {\n        const scopeString : string = this.scopes.join(\" \")\n\n        let url = `${authEndpoint}?client_id=${clientId}&response_type=code&redirect_uri=${config.redirectUri}&scope=${encodeURIComponent(scopeString)}`\n\n        const hash = await this.sha256(verifier)\n        const code_challenge = this.base64urlencode(hash)\n\n        url += `&code_challenge_method=S256&code_challenge=${code_challenge}`\n\n        return url\n    }  \n\n    static randomString() : string {\n        let randomString : string = \"\"\n\n        // has to be between 43 - 128 according to spotify\n        const minCharacters = 43\n\n        // initalize array of length 43 and generate random values\n        const randomNumbers = new Uint8Array(minCharacters)\n        window.crypto.getRandomValues(randomNumbers)\n\n        // possible characters [A-Z], [a-z], [0-9]\n        // could also include certain characters if we wanted to make it even more secure \n        const possibleCharacters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n\n        // going to need to convert bytes to value between 0 - possibleCharcters.length\n        const byteLength = 256\n        const offset = byteLength / possibleCharacters.length\n\n        for (var i = 0; i < minCharacters; i++) {\n            randomString += possibleCharacters[Math.floor(Math.abs(randomNumbers[i]) / offset)]\n        }\n\n        return randomString\n    }\n\n    static sha256(verifier: string) {\n        const encoder = new TextEncoder()\n        const data = encoder.encode(verifier)\n    \n        return window.crypto.subtle.digest(\"SHA-256\", data)\n    }\n\n    static base64urlencode(hash: ArrayBuffer) {\n        const values : Uint8Array = new Uint8Array(hash)\n\n        // return encoded string\n        // replace '+' with '-', '/' with '_', and remove '=' at end for url safety\n        return btoa(String.fromCharCode.apply(null, values as unknown as number[]))\n            .replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\")\n    }\n\n    // ###############################################################################################\n\n\n    // ########################### Token Retrievers ##################################################\n\n    /* eslint-disable */\n    // Disable esline or else typescript will complain about the callback signature\n    static async refreshTimer(token: AuthToken, callback: (newToken: AuthToken) => any) {\n        // refresh 5 seconds before the token expires\n        const msBeforeExpires = 5000\n        const expireTimeInMs = token.expires_in * 1000\n        const refreshTime = expireTimeInMs - msBeforeExpires\n\n        setTimeout(async () => {\n            const newToken: AuthToken | undefined = await getAuthenticationToken({\n                grant_type: \"refresh_token\",\n                refresh_token: token.refresh_token,\n                client_id: clientId\n            })\n\n            if (newToken) {\n                callback(newToken)\n            }\n\n        }, refreshTime)\n    }\n    /* eslint-enable */\n\n    static exchangeCodeForToken(code: string, verifier: string) {      \n        const data : GetTokenRequest = {\n            client_id: clientId,\n            grant_type: \"authorization_code\",\n            code: code,\n            redirect_uri: config.redirectUri,\n            code_verifier: verifier\n        } \n\n        return getAuthenticationToken(data)\n    } \n\n    // ###############################################################################################\n}\n","import { AuthToken } from \"../Models/Authentication\"\nimport { Spotify } from \"../Models/SpotifyObjects/PlayerObjects\"\n\nasync function waitForSpotify() : Promise<typeof Spotify> {\n    return new Promise((resolve) => {\n        if (window.Spotify) {\n            resolve(window.Spotify)\n        }\n        else {\n            window.onSpotifyWebPlaybackSDKReady = () => {\n                resolve(window.Spotify)\n            }\n        }\n    })\n}\n\nexport async function getSpotifyPlayer(token: AuthToken) {\n    const { Player } = await waitForSpotify()\n\n    const playerInit : Spotify.PlayerInit = {\n        name: \"SomeTool\",\n        getOAuthToken: callback => {\n            callback(token.access_token)\n        },\n        volume: .5\n    }\n\n    return new Player(playerInit)\n}","import React from \"react\"\nimport { Route, Switch } from \"react-router-dom\"\nimport \"./App.css\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport PlaylistPage from \"./Components/Pages/Playlist/PlaylistPage\"\nimport AlbumPage from \"./Components/Pages/Album/AlbumPage\"\nimport LandingPage from \"./Components/Shared/LandingPage\"\nimport ArtistPage from \"./Components/Pages/Artist/ArtistPage\"\nimport { AuthenticationContext, AuthenticationContextObject, TokenRetriever, AuthToken } from \"./Models/Authentication\"\nimport HomePage from \"./Components/Pages/Home/HomePage\"\nimport { initAxios } from \"./Endpoints/AxiosConfig\"\nimport AuthService from \"./Services/AuthService\"\nimport { getSpotifyPlayer } from \"./Services/PlayerService\"\nimport { Spotify } from \"./Models/SpotifyObjects/PlayerObjects\"\n\nexport default class App extends React.Component<{}, AuthenticationContextObject> {\n    constructor(props: {}) {\n        super(props)\n\n        // get cookie or create a new one\n        const verifier = AuthService.getVerifierCookie() ?? AuthService.createCodeVerifierCookie()\n\n        // try and get authorization code from url\n        const code = new URLSearchParams(window.location.search).get(\"code\")\n\n        // havn't redirected yet/ need to do first step of authorization\n        if (!code) {\n            // force reload component when we actually get the redirect url for the log in button\n            this.getAuthURL(verifier)\n        }\n        // Redirected from Spotify Auth\n        else {\n            AuthService.exchangeCodeForToken(code, verifier).then((authToken) => {\n                if (authToken) {\n                    initAxios(authToken)\n                    this.refreshTokenCallback(authToken)\n                }\n            })\n        }\n\n        this.state = {\n            logOut: () => {\n                this.getAuthURL(verifier)\n                this.setState({ ...this.state, authToken: undefined })\n            },\n        }\n    }\n\n    getAuthURL(verifier: string) {\n        AuthService.constructAuthorizationURI(verifier).then((redirect_url) => {\n            const tokenRetriever: TokenRetriever = { redirect_url, verifier }\n            this.setState({ ...this.state, tokenRetriever })\n        })\n    }\n\n    render() {\n        const pageURL = \"/spotify-playlist-plus\"\n\n        let landingElement = <LandingPage />\n        if (this.state.authToken) {\n            landingElement = <HomePage />\n        }\n\n        return (\n            <main>\n                <AuthenticationContext.Provider value={this.state}>\n                    <Switch>\n                        <Route exact path={pageURL}>\n                            {landingElement}\n                        </Route>\n                        <Route exact path={pageURL + \"/AlbumPage\"} component={AlbumPage} />\n                        <Route exact path={pageURL + \"/artist/:id\"} component={ArtistPage} />\n                        <Route exact path={pageURL + \"/playlist/:id\"} component={PlaylistPage} />\n                    </Switch>\n                </AuthenticationContext.Provider>\n            </main>\n        )\n    }\n\n    async refreshTokenCallback(token: AuthToken) {\n        const player: Spotify.SpotifyPlayer = await getSpotifyPlayer(token)\n        player.connect().then((success) => {\n            console.log(success)\n        })\n\n        this.setState({ ...this.state, authToken: token, player: player })\n        AuthService.refreshTimer(token, this.refreshTokenCallback)\n    }\n}\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry)\n            getFID(onPerfEntry)\n            getFCP(onPerfEntry)\n            getLCP(onPerfEntry)\n            getTTFB(onPerfEntry)\n        })\n    }\n}\n\nexport default reportWebVitals\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\nimport { BrowserRouter } from \"react-router-dom\"\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}